<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[categories: IDE | 黃金俠]]></title>
  <link href="http://rubyist.marsz.tw/blog/categories/ide/atom.xml" rel="self"/>
  <link href="http://rubyist.marsz.tw/"/>
  <updated>2012-09-09T11:34:42+08:00</updated>
  <id>http://rubyist.marsz.tw/</id>
  <author>
    <name><![CDATA[MarsZ]]></name>
    <email><![CDATA[marsz330@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[我的 Sublime 設定]]></title>
    <link href="http://rubyist.marsz.tw/blog/2012-08-19/sublimetext-shortcuts-and-configurations-for-sass-erb-rubytest/"/>
    <updated>2012-08-19T21:46:00+08:00</updated>
    <id>http://rubyist.marsz.tw/blog/2012-08-19/sublimetext-shortcuts-and-configurations-for-sass-erb-rubytest</id>
    <content type="html"><![CDATA[<p><a href="http://www.sublimetext.com/" target="_blank">Sublime</a> 是一套強大的文字編輯器，和我用過的 Textmate 類似，但功能更為強大 XD 以下是我的設定範例。</p>

<!-- more -->


<h3>實用快速鍵</h3>

<p>參考: <a href="https://gist.github.com/1207002" target="_blank">https://gist.github.com/1207002</a></p>

<h3>安裝好後設定 link</h3>

<p>```
ln -s "/Applications/Sublime Text 2.app/Contents/SharedSupport/bin/subl" ~/bin/subl</p>

<p>sudo ln -s "/Applications/Sublime Text 2.app/Contents/SharedSupport/bin/subl" /usr/bin/subl
```</p>

<p><code>ubuntu</code> 的話可以用</p>

<p><code>
sudo ln -s ~/Applications/Sublime\ Text\ 2/sublime_text /usr/bin/subl
</code></p>

<p>shell link，編輯 <code>~/.bashrc</code> 或 <code>~/.zshrc</code> (看你用的是哪一個 shell)</p>

<p><code>
export EDITOR="/usr/local/bin/subl -w"
</code></p>

<h3>setting 檔</h3>

<p><code>command + ,</code> 出現的檔案</p>

<p>```
{</p>

<pre><code>"color_scheme": "Packages/Color Scheme - Default/Twilight.tmTheme",
"font_size": 18.0,
"tab_size": 2,
"translate_tabs_to_spaces": true,  
</code></pre>

<p>}</p>

<p>```</p>

<p>(PS: 年紀大了所以用字體 size 用 18 XD)<br/>
(PS2: tab 設定隨個人/公司喜好)</p>

<h3>安裝 sass/scss 外掛</h3>

<p>記得先關掉 Sublime</p>

<p><code>
cd ~/Library/Application\ Support/Sublime\ Text\ 2/Packages/
git clone git://github.com/n00ge/sublime-text-haml-sass.git
mv sublime-text-haml-sass/Ruby\ Haml ./
mv sublime-text-haml-sass/SASS ./
rm -rf sublime-text-haml-sass
</code></p>

<p>更多可參考<a href="https://github.com/n00ge/sublime-text-haml-sass" target="_blank">官方連結</a></p>

<h3>安裝 ERB 檔案的編輯強化</h3>

<p>```
git clone git@github.com:eddorre/SublimeERB.git ~/.sublime_erb</p>

<p>ln -fs ~/.sublime_erb/erb_block.py ~/Library/Application\ Support/Sublime\ Text\ 2/Packages/User
```</p>

<p>"Sublime Text 2" > Preferences > "Key Binding User"<br/>
在 <code>[</code> 和 <code>]</code> 間貼上</p>

<p>```
{ "keys": ["ctrl+shift+."], "command": "erb", "context":</p>

<pre><code>[
  { "key": "selector", "operator": "equal", "operand": "text.html.ruby, text.haml, source.yaml, source.css, source.scss, source.js, source.coffee" }
]
</code></pre>

<p>}
```</p>

<p>在 .erb 檔案中使用 <code>Ctrl+Shift+.</code> 就可以出現 <code>&lt;%= %&gt;</code> 的內容，重複按就可以切換不同用途的 erb block</p>

<p>更多可參考<a href="https://github.com/eddorre/SublimeERB" target="_blank">官方文件</a></p>

<h3>安裝 RubyTest</h3>

<p>透過快速鍵跑單一檔案的 <code>rspec</code> (或 rails 內建的 test)</p>

<p><code>
cd ~/Library/Application\ Support/Sublime\ Text\ 2/Packages/
git clone https://github.com/maltize/sublime-text-2-ruby-tests.git RubyTest
cp RubyTest/RubyTest.sublime-settings ./User
</code></p>

<p>修改 <code>RubyTest.sublime-settings</code></p>

<p><code>vim User/RubyTest.sublime-settings</code></p>

<p>內容如下</p>

<p>```
{
  "erb_exec": "bundle exec erb",
  "ruby_unit_exec": "bundle exec ruby",
  "ruby_cucumber_exec": "bundle exec cucumber -f pretty",
  "ruby_rspec_exec": "bundle exec rspec",</p>

<p>  "ruby_unit_folder": "test",
  "ruby_cucumber_folder": "features",
  "ruby_rspec_folder": "spec",</p>

<p>  "ruby_use_scratch" : false,
  "save_on_run": false,
  "ignored_directories": [".git", "vendor", "tmp"]
}
```</p>

<p>主要是在 <code>rspec</code> 的命令前加上 <code>bundle exec</code></p>

<p><code>Command-Shift-R</code> 即可直接執行該檔案的 <code>rspec</code>，更多可參考 <a href="https://github.com/maltize/sublime-text-2-ruby-tests" target="_blank">官方文件</a></p>

<p><a href="http://bit.ly/Nd1TjR" target="_blank">rvm issue</a> 目前尚未解決，預設會用 rvm default 的 ruby 版本，有人<a href="http://bit.ly/Nd2dz7" target="_blank"> hack 了</a>，但不是很喜歡 :p</p>
]]></content>
  </entry>
  
</feed>
